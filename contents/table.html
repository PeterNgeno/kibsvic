<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Narok County Form</title>
</head>
<body>
  <h2>Narok County Data Entry</h2>
  <form id="narokForm">
    <label for="name">Name:</label><br/>
    <input type="text" id="name" name="name" required><br/>

    <label for="id">ID:</label><br/>
    <input type="text" id="id" name="id" required><br/>

    <label for="rate">Rate:</label><br/>
    <input type="number" id="rate" name="rate" required><br/>

    <label for="date">Date:</label><br/>
    <input type="date" id="date" name="date" required><br/>

    <label for="day">Day:</label><br/>
    <input type="text" id="day" name="day" required><br/>

    <label for="paid">Paid (true/false):</label><br/>
    <select id="paid" name="paid" required>
      <option value="true">True</option>
      <option value="false">False</option>
    </select><br/>

    <label for="paidAmount">Paid Amount:</label><br/>
    <input type="number" id="paidAmount" name="paidAmount"><br/><br/>

    <button type="submit">Submit</button>
  </form>

  <p id="response"></p>

  <script>
    const form = document.getElementById("narokForm");
    const responseEl = document.getElementById("response");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = {
        name: form.name.value,
        id: form.id.value,
        rate: parseFloat(form.rate.value),
        date: form.date.value,
        day: form.day.value,
        paid: form.paid.value === "true",
        paidAmount: parseFloat(form.paidAmount.value) || 0
      };

      try {
        const response = await fetch("https://script.google.com/macros/s/AKfycbwWaphufKa3hEKz_uAsgh6moGutGvbmHIBLkHo-eest_Eb1teF1DPT0IhI_LH79SQqMfw/exec", {
          method: "POST",
          mode: "no-cors", // Avoids CORS errors, though you won't get a response back
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(formData)
        });

        responseEl.innerText = "Submitted successfully!";
        form.reset();
      } catch (error) {
        responseEl.innerText = "Error: " + error.message;
      }
    });
  </script>
</body>
</html>
